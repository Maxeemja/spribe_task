<div class="form-card">
  <form [formGroup]="form">
    <div class="form-group" >
      <label for="country">Country:</label>
      <input
        id="country"
        formControlName="country"
        [appValidateInput]="getErrorMessage('country')"
        [attr.list]="'countries-' + form"
        class="form-control"
      />
      <datalist [id]="'countries-' + form">
        <option *ngFor="let country of countries" [value]="country"></option>
      </datalist>

      <div
        class="invalid-feedback"
        *ngIf="form.get('country')?.invalid && form.get('country')?.touched"
      >
        Invalid country
      </div>
    </div>

    <div class="form-group" >
      <label for="username">Username:</label>
      <input id="username" formControlName="username" class="form-control" [appValidateInput]="getErrorMessage('username')" />
      <div
        class="invalid-feedback"
        *ngIf="form.get('username')?.invalid && form.get('username')?.touched"
      >
        Invalid username
      </div>
      <div *ngIf="form.get('username')?.pending">
        Checking username availability...
      </div>
    </div>

    <div class="form-group" >
      <label for="birthday">Birthday:</label>
      <input
        id="birthday"
        type="date"
        formControlName="birthday"
        [appValidateInput]="getErrorMessage('birthday')"
        class="form-control"
      />
      <div
        class="invalid-feedback"
        *ngIf="form.get('birthday')?.invalid && form.get('birthday')?.touched"
      >
        Invalid birthday
      </div>
    </div>

    <button
      class="btn-remove"
      (click)="removeCard()"
      [disabled]="form.disabled"
    >
      X
    </button>
  </form>
</div>
